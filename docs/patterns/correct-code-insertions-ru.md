# Паттерн разработки: Правильные вставки кода в документации

## Обзор

Этот паттерн определяет стандартный подход для вставки блоков кода в файлы документации для обеспечения правильного отображения и подсветки синтаксиса.

## Правила паттерна

### 1. Синтаксис блоков кода

Всегда используйте тройные обратные апострофы (```) для блоков кода, никогда не используйте одинарные (`) или двойные (``) обратные апострофы.

**Правильно:**

````markdown
```typescript
const example = 'correct';
```
````

````

**Неправильно:**
```markdown
``typescript
const example = 'incorrect';
``

`typescript
const example = 'incorrect';
`
````

### 2. Указание языка

Всегда указывайте язык для подсветки синтаксиса, когда это применимо:

````markdown
```typescript
// TypeScript код
```
````

```javascript
// JavaScript код
```

```sql
-- SQL код
```

```bash
# Bash/Shell команды
```

```json
{
  "key": "value"
}
```

```prisma
model User {
  id String @id
}
```

````

### 3. Встроенный код

Используйте одинарные обратные апострофы для встроенных ссылок на код:

```markdown
Используйте класс `UserService` для управления пользователями.
````

### 4. Отступы и форматирование

Сохраняйте согласованные отступы внутри блоков кода:

````markdown
```typescript
// Правильные отступы
function example() {
  if (condition) {
    return true;
  }
  return false;
}
```
````

````

## Руководящие принципы реализации

### 1. При создании документации

1. Всегда используйте тройные обратные апострофы для блоков кода
2. Указывайте соответствующий идентификатор языка
3. Обеспечьте правильные отступы внутри блоков кода
4. Проверьте отображение markdown перед коммитом

### 2. При обновлении документации

1. Просмотрите существующие блоки кода на предмет правильного синтаксиса
2. Замените любые двойные или одинарные обратные апострофы на тройные
3. Убедитесь, что присутствуют идентификаторы языков
4. Проверьте правильное форматирование примеров кода

### 3. Распространенные ошибки, которых следует избегать

1. **Смешивание количества обратных апострофов:**
   ```markdown
   // НЕ ДЕЛАЙТЕ ТАК
   ``typescript
   code here
   ``
````

2. **Отсутствие идентификаторов языка:**

   ```markdown
   // НЕ ДЕЛАЙТЕ ТАК
   ```

   code here

   ```

   ```

3. **Несогласованные отступы:**
   ````markdown
   // НЕ ДЕЛАЙТЕ ТАК

   ```typescript
   function bad() {
     return 'indentation';
   }
   ```
   ````
   ```

   ```

## Процесс валидации

### 1. Автоматические проверки

- Используйте линтеры для обнаружения неправильного использования обратных апострофов
- Реализуйте проверки CI для файлов документации
- Валидируйте синтаксис markdown в пулл-реквестах

### 2. Ручная проверка

- Предварительный просмотр документации перед слиянием
- Проверка отображения блоков кода на целевой платформе
- Проверка правильной работы подсветки синтаксиса

## Примеры реализации

### Правильный блок кода TypeScript

````markdown
```typescript
import { Injectable } from '@nestjs/common';

@Injectable()
export class UserService {
  async findUser(id: string) {
    return await this.prisma.user.findUnique({
      where: { id },
    });
  }
}
```
````

````

### Правильный блок кода SQL

```markdown
```sql
CREATE TABLE "User" (
  id UUID PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
````

````

### Правильный блок команд Bash

```markdown
```bash
npm install
npm run build
npm start
````

```

## Преимущества

1. **Согласованное отображение:** Все блоки кода отображаются правильно на всех платформах
2. **Подсветка синтаксиса:** Код должным образом выделяется для лучшей читаемости
3. **Поддерживаемость:** Стандартизированный формат облегчает обновления
4. **Профессиональный внешний вид:** Документация выглядит опрятно и профессионально

## Связанные паттерны

- [Паттерн структуры документации](./documentation-structure-ru.md)
- [Паттерн примеров кода](./code-examples-ru.md)
- [Паттерн документации API](./api-documentation-ru.md)
```
